<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MktMetrics Pro | Gest√£o de Marketing</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="light-theme">
    <div id="sidebarOverlay" class="sidebar-overlay"></div>

    <aside class="sidebar">
        <div class="logo">Mkt<span>Metrics</span></div>
        <nav class="nav-menu">
            <button class="nav-btn active" data-view="dashboard">üìä Dashboard</button>
            <button class="nav-btn" data-view="data">üìù Gerenciar Dados</button>
            <button class="nav-btn" data-view="report">üìÖ Relat√≥rio Mensal</button>
        </nav>
        <div class="theme-switch-container">
            <span>Modo Escuro</span>
            <label class="switch">
                <input type="checkbox" id="theme-toggle">
                <span class="slider round"></span>
            </label>
        </div>
    </aside>

    <main class="main-content">
        <header class="top-bar">
                <div class="top-bar">
             <button id="menuToggle" class="menu-toggle" aria-label="Abrir menu">
             <span></span>
             <span></span>
             <span></span>
              </button> </div>


            <h1 id="view-title">Dashboard</h1>
            <div class="actions">
                <button id="export-json" class="btn-outline">Exportar Dados</button>
                <button id="import-trigger" class="btn-outline">Importar JSON</button>
                <input type="file" id="import-json" hidden accept=".json">
            </div>

        <div class="actions">
        <!-- seus bot√µes -->
         </div>
</div>

        </header>

        <!-- View: Dashboard -->
        <section id="view-dashboard" class="view-section active">
            <div class="kpi-grid">
                <div class="kpi-card">
                    <span class="label">Receita Total</span>
                    <h2 id="kpi-revenue">R$ 0,00</h2>
                </div>
                <div class="kpi-card">
                    <span class="label">Investimento</span>
                    <h2 id="kpi-spend">R$ 0,00</h2>
                </div>
                <div class="kpi-card highlight">
                    <span class="label">ROI Geral</span>
                    <h2 id="kpi-roi">0.00x</h2>
                </div>
                <div class="kpi-card">
                    <span class="label">Lucro L√≠quido</span>
                    <h2 id="kpi-profit">R$ 0,00</h2>
                </div>
                <div class="kpi-card">
                    <span class="label">Ticket M√©dio</span>
                    <h2 id="kpi-ticket">R$ 0,00</h2>
                </div>
                <div class="kpi-card">
                    <span class="label">Taxa Conv.</span>
                    <h2 id="kpi-conv">0%</h2>
                </div>
            </div>
            
            <div class="charts-container">
                <div class="chart-box">
                    <h3>Performance Financeira</h3>
                    <div class="canvas-wrapper">
                        <canvas id="mainChart"></canvas>
                    </div>
                </div>
                <div class="chart-box">
                    <h3>Funil de Vendas</h3>
                    <div class="canvas-wrapper">
                        <canvas id="convChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- View: Dados -->
        <section id="view-data" class="view-section">
            <div class="data-header">
                <h2>Hist√≥rico de Lan√ßamentos</h2>
                <button id="btn-new" class="btn-primary">+ Novo Per√≠odo</button>
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Data In√≠cio</th>
                            <th>Data Fim</th>
                            <th>Receita</th>
                            <th>Investimento</th>
                            <th>Vendas</th>
                            <th>ROI</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="table-body"></tbody>
                </table>
            </div>
        </section>

        <!-- View: Relat√≥rio -->
        <section id="view-report" class="view-section">
            <div class="report-header">
                <h2>Agrupamento Mensal</h2>
                <p>M√©tricas consolidadas por m√™s de refer√™ncia.</p>
            </div>
            <div id="report-grid" class="report-grid"></div>
        </section>
    </main>

    <!-- Modal Form -->
    <div id="modal-form" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Cadastrar M√©tricas do Per√≠odo</h3>
                <button class="btn-close-x btn-close">&times;</button>
            </div>
            <form id="metrics-form">
                <input type="hidden" id="f-id" name="id">
                <div class="form-grid">
                    <div class="input-group">
                        <label>In√≠cio</label>
                        <input type="date" name="startDate" id="f-start" required>
                    </div>
                    <div class="input-group">
                        <label>Fim</label>
                        <input type="date" name="endDate" id="f-end" required>
                    </div>
                    <div class="input-group">
                        <label>Receita (R$)</label>
                        <input type="number" name="revenue" id="f-revenue" step="0.01" placeholder="0.00" required>
                    </div>
                    <div class="input-group">
                        <label>Investimento (R$)</label>
                        <input type="number" name="spend" id="f-spend" step="0.01" placeholder="0.00" required>
                    </div>
                    <div class="input-group">
                        <label>Qtd. Vendas</label>
                        <input type="number" name="sales" id="f-sales" placeholder="0" required>
                    </div>
                    <div class="input-group">
                        <label>Cliques</label>
                        <input type="number" name="clicks" id="f-clicks" placeholder="0">
                    </div>
                    <div class="input-group">
                        <label>Checkouts</label>
                        <input type="number" name="checkouts" id="f-checkouts" placeholder="0">
                    </div>
                    <div class="input-group">
                        <label>Alcance</label>
                        <input type="number" name="reach" id="f-reach" placeholder="0">
                    </div>
                    <div class="input-group full-width">
                        <label>Principal Meio de Pagamento</label>
                        <select name="payment" id="f-payment">
                            <option value="Cart√£o">Cart√£o de Cr√©dito</option>
                            <option value="Pix">Pix</option>
                            <option value="Boleto">Boleto</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-close btn-secondary">Cancelar</button>
                    <button type="submit" class="btn-primary">Salvar Dados</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
